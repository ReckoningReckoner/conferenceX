{% extends 'base.html' %}

{% macro list_of_links() %}
    <li>
        <a href="#about">
            About
        </a>
    </li>
    <li>
        <a href="#location">
            Location
        </a>
    </li>
    <li>
        <a href="#tickets">
            Get tickets
        </a>
    </li>
    <li>
        <a href="#faq">
            FAQ
        </a>
    </li>
    <li>
        <a href="#apply">
            Apply as a speaker
        </a>
    </li>
    <li>
        <a href="#contact">
            Contact Us
        </a>
    </li>
{% endmacro %}

{% macro parallax_mini(img, title) -%}
    <div class="parallax-container valign-wrapper mini-parallax">
        <div class="parallax">
            <img alt="missing img"
                 src="{{img}}">
        </div>
        <div class="container valign">
            <div class="center white-text">
                <h3 class="bold">{{title}}</h3>
            </div>
        </div>
    </div> <br>
{% endmacro %}

{% block othercss%}
        <title> {{html.title}} </title>
    <link type="text/css" rel="stylesheet" href="{{url_for('static', filename='css/index.css')}}" media="screen,projection"/>
{% endblock %}

{% block script %}
    <script type="text/javascript" src="{{url_for('static', filename='js/index.js')}}"> </script>
{% endblock %}

{% block body %}
    <!-- navbar -->
    <nav id="navbar"
         class="grey darken-4 navbar-fixed">
        <div class="nav-wrapper">

            <div class="container">
                <!-- mm hamburger -->
                <a href="/" data-activates="mobile" class="right button-collapse">
                    <i class="material-icons">
                        menu
                    </i>
                </a>

                <!-- navbar hamburger -->
                <ul class="side-nav" id="mobile">
                    {{ list_of_links()}}
                </ul>

                <!-- navbar large -->
                <ul id="large" class="right hide-on-med-and-down">
                    {{ list_of_links() }}
                </ul>
            </div>
        </div>
    </nav>

    <!-- intro -->
    <div class="parallax-container valign-wrapper fullscreen">
        <div class="parallax">
            <img alt="missing img"
                 src="{{url_for('static', filename='images/intro.jpeg')}}">
        </div>
        <div class="container valign">
            <div class="title center white-text">
                <h1 class="bold">
                    {{html.title | safe}}
                </h1>
            </div>

            <div class="row center col s12 m6 offset-m2">
                <h5 class="white-text thin">
                    {{html.subtitle | safe }}
                </h5>
            </div>

            <div class="center row">
                <a class="btn-large waves-effect waves-light grey darken-4"
                    href="#tickets">
                    get tickets
                </a>
            </div>
        </div>
    </div>

    <!-- about -->
    <div id="about" class="row section scrollspy">
        <div class="container center">
            <h3 class="grey-text text-darken-2">
                About
            </h3>

            <p class="light flow-text">
            {{html.about | safe}}
            </p>
        </div>

        {% if html.show_program %}
        <!-- program -->
        <div id="program" class="row section scrollspy">
            <div class="container center">

                <h3 class="grey-text text-darken-2">
                    Program
                </h3>

                <div class="row">
                    <div class="col s12 hover-hightlight">

                        <h5 class="grey-text"> Featured speakers</h5><hr>
                        {% for person in persons  %}
                            <div class="col s6 m3">
                                        <img alt="{{person["name"]}}"
                                             class="circle featured-image"
                                             src={{person["url"]}} >
                                <h5> {{person["name"]}} </h5>
                                <p> {{person["school"]}} </p>
                                <p> {{person["description"]}} </p>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <div class="row">
                    <div class="col s12 center">
                        <h5 class="grey-text"> Schedule </h5><hr>
                        <table class="highlight centered">
                            {{html.table|safe}}
                        </table>
                    </div>
                </div>

            </div>
        </div>
        {% endif %}
    </div>


    <!-- location -->
    <div id="location" class="row section scrollspy">
        {{
        parallax_mini(url_for('static', filename="images/location.jpeg"),
                      'Location')
        }}

        <div class="center container">
            {% if html.show_location %}
                <div class="row">
                    <div class="col s12 m6">
                        {{html.location|safe}}
                    </div>

                    <div id="google-maps" class="col s12 m6">
                       {{html.google_maps|safe}}
                    </div>
                </div>
            {% else %}
                <h2> TBA </h2>
            {% endif %}
        </div>
    </div>


    <!-- tickets -->
    <div id="tickets" class="row section scrollspy">

        {{
        parallax_mini(url_for('static', filename='images/tickets.jpeg'),
                      'Get tickets')
        }}

        <div class="center container">
            <div class="row">
                <p class="flow-text"> Tickets are priced at </p>
                {% for price in prices %}
                    <div class="col s12 m{{ 12//(prices|length) }}">
                        <h5 class="grey-text text-darken-2"> {{price['name']}} </h5>
                        <h4> {{price['price']}} </h4>
                        <p class="grey-text text-darken-2"> {{price['description']}} </p>
                    </div>
                {% endfor %}
            </div>
            {% if html.show_ticket_button%}
                <a class="btn-large grey darken-4 waves-effect waves-light">
                    Buy Now
                </a>
            {% else %}
                <a class="btn-large disabled"> Tickets coming soon </a>
            {% endif %}
        </div>
    </div>

    <!-- faq -->
    <div id="faq" class="row section scrollspy">
        {{
        parallax_mini(url_for('static', filename='images/faq.jpeg'),
                      'FAQ')
        }}

        <div class="container">
            {% for faq in questions %}
            <div class="col s12 m6">
                <h5> {{faq["question"]}} </h5>
                <p> {{faq["answer"]}} </p>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- apply -->
    <div id="apply" class="row section scrollspy">
        {{
        parallax_mini(url_for('static', filename='images/apply.jpeg'),
                      'Apply as a speaker')
        }}

        <div class="container center">
            <p class="flow-text">
                {{html.apply_text | safe}}
            </p>
            {% if html.show_speaker_button%}
                <a class="btn-large grey darken-4 waves-effect waves-light">
                    Apply as a speaker
                </a>
            {% else %}
                <a class="btn-large disabled"> Applications are not enabled </a>
            {% endif %}
        </div>
    </div>

    <!-- contact -->
    <div id="contact" class="center row section scrollspy">
        <h3 class="grey-text darken-2"> Contact Us</h3>

        <div class="row">
            <p class="flow-text">
                Have any questions, concerns, or ideas? Feel free to
                reach out to us at: <br>
                <a href="mailto:conferencexofficial@gmail.com">
                    conferencexofficial@gmail.com
                </a>
            </p>
        </div>
    </div>

    <!-- footer -->
    <footer class="page-footer grey lighten-2">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="grey-text text-darken-2">Talk to us</h5>

                    <a href="mailto:conferencexofficial@gmail.com"
                       class="grey-text text-darken-2">
                        conferencexofficial@gmail.com
                    </a>

                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="grey-text text-darken-2">Links</h5>
                    <ul>
                        {{list_of_links()}}
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer-copyright">
            <div class="container grey-text text-darken-2">
                2016 {{html.title | safe}}
            </div>
        </div>
    </footer>
{% endblock %}
